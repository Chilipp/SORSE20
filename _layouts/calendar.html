---
layout: single
---

{{ content }}

<div id='calendar'></div>

<aside class="sidebar__right">
  {% for post in site.events %}
    {% include event-card.html hidden=true %}
  {% endfor %}
  {% for post in site.posts | where: "id", "/programme/ask-us-anything-sessions" %}
    {% include faq-card.html hidden=true excerpt_length=300 %}
  {% endfor %}
  {% for post in site.faq | where: "id", "/faq/howto/submission-deadlines" %}
    {% include faq-card.html hidden=true excerpt_length=300 %}
  {% endfor %}
</aside>

<script>

 document.addEventListener('DOMContentLoaded', function() {
   var calendarEl = document.getElementById('calendar');

   calendar = new FullCalendar.Calendar(calendarEl, {
     headerToolbar: {
       left: 'prev,next today',
       center: 'title',
       right: 'dayGridMonth,timeGridWeek,timeGridDay,listYear'
     },
     buttonText: {
       week: 'week',
       day: 'day',
       year: 'list'
     },
     initialView: 'dayGridMonth',
     editable: false,
     //
     selectable: true,
     dateClick: function(info) {
       if (calendar.view.type != "timeGridDay") {
         calendar.changeView('timeGridDay', info.dateStr);
       }
     },
     //
     navLinks: true,
     navLinkDayClick: function(date, jsEvent) {
       if (calendar.view.type != "timeGridDay") {
         calendar.changeView('timeGridDay', date);
       }
     },
     //
     weekNumbers: true,
     navLinkWeekClick: function(weekStart, jsEvent) {
       if (calendar.view.type != "timeGridWeek") {
         calendar.changeView('timeGridWeek', weekStart);
       }
     },
     //
     slotDuration: "00:15",
     dayMaxEvents: true, // allow "more" link when too many events
     events: [
        {% include ask-us-anything.js onclick='tag' %},
        {% include cfc-deadlines.js background=true onclick='tag' %},
        {% include events.js onclick='tag' %}
     ],
     eventClick: function(info) {
       var elem = $(info.event.url);
       if (!elem.hidden) {
         $(".card").hide();
         elem.show();
       }
     }
   });
  calendar.render();
});
</script>
